<!DOCTYPE html>
<html>

<head>
    <title>全臺新聞分布地圖</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
    #map {
        height: 99vh;
        width: 100%;
    }
    </style>
</head>

<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
    // 初始化地圖並設定視圖為特定位置及縮放級別
    var map = L.map('map').setView([23.70, 120.97], 8);

    // 添加台灣通用版電子地圖 (TGOS) 瓦片層至地圖
    L.tileLayer('https://wmts.nlsc.gov.tw/wmts/EMAP/default/GoogleMapsCompatible/{z}/{y}/{x}', {
        attribution: '&copy; <a href="https://maps.nlsc.gov.tw/">TGOS</a> contributors',
        maxZoom: 18,
        tileSize: 256,
        zoomOffset: 0
    }).addTo(map);

    // 定義更明顯的樣式
    function style(feature) {
        return {
            fillColor: '#ff7800', // 橙色填充
            weight: 2,
            opacity: 1,
            color: '#000000', // 黑色邊界
            dashArray: '3',
            fillOpacity: 0.7
        };
    }

    // 獲取 GeoJSON 數據並顯示在地圖上
    fetch('COUNTY_news.geojson', {
            mode: 'no-cors'
        })
        .then(function(response) {
            if (!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }
            return response.json();
        })
        .then(function(data) {
            console.log('GeoJSON data:', data); // 打印數據到控制台
            L.geoJSON(data, { style: style }).addTo(map);
        })
        .catch(function(error) {
            console.error('加載 GeoJSON 數據時出錯:', error);
        });
    </script>
</body>

</html>